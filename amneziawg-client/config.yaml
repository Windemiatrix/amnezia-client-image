# =============================================================================
# Home Assistant Add-on: AmneziaWG Client
# =============================================================================

name: "AmneziaWG Client"
version: "1.1.1"
slug: amneziawg-client
description: "AmneziaWG VPN client as a Home Assistant Add-on"
url: "https://github.com/Windemiatrix/amnezia-client-image"

arch:
  - amd64
  - aarch64
  - armv7
  - armhf

init: false
startup: services
host_network: true

image: "ghcr.io/windemiatrix/amnezia-client-image"

privileged:
  - NET_ADMIN
  - SYS_MODULE

map:
  - config:rw

options:
  config_file: "wg0.conf"
  log_level: "info"
  health_check_host: "1.1.1.1"
  kill_switch: true
  local_subnets:
    - "192.168.0.0/16"
    - "10.0.0.0/8"
    - "172.16.0.0/12"

schema:
  config_file: str
  log_level: "list(debug|info|warn|error)"
  health_check_host: str
  kill_switch: bool
  local_subnets:
    - str
